{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Tech Semiconductors\\\\luct-reporting-system\\\\frontend\\\\src\\\\components\\\\Reports.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Form, Button, Card, Alert } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Reports = () => {\n  _s();\n  const [formData, setFormData] = useState({\n    facultyName: '',\n    className: '',\n    weekOfReporting: '',\n    dateOfLecture: '',\n    courseName: '',\n    courseCode: '',\n    lecturerName: '',\n    actualStudents: '',\n    totalRegistered: '',\n    venue: '',\n    scheduledTime: '',\n    topicTaught: '',\n    learningOutcomes: '',\n    recommendations: ''\n  });\n  const [classes, setClasses] = useState([]);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    fetchClasses();\n  }, []);\n  const fetchClasses = async () => {\n    try {\n      const res = await axios.get(`${process.env.REACT_APP_API_URL}/classes`, {\n        headers: {\n          'x-auth-token': localStorage.getItem('token')\n        }\n      });\n      setClasses(res.data);\n    } catch (err) {\n      setError('Failed to load classes');\n      console.error(err);\n    }\n  };\n  const onChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value\n    });\n    if (name === 'className') {\n      const selectedClass = classes.find(cls => cls.name === value);\n      if (selectedClass) {\n        setFormData(prev => ({\n          ...prev,\n          venue: selectedClass.venue,\n          courseName: selectedClass.courseName || '' // Add courseName if in schema\n        }));\n      }\n    }\n  };\n  const onSubmit = async e => {\n    e.preventDefault();\n    try {\n      await axios.post(`${process.env.REACT_APP_API_URL}/reports`, formData, {\n        headers: {\n          'x-auth-token': localStorage.getItem('token')\n        }\n      });\n      setError(null);\n      alert('Report submitted successfully');\n    } catch (err) {\n      setError('Failed to submit report');\n      console.error(err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Card, {\n    className: \"p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Submit Report\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      variant: \"danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: onSubmit,\n      children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n        controlId: \"facultyName\",\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Faculty Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          name: \"facultyName\",\n          value: formData.facultyName,\n          onChange: onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        controlId: \"className\",\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Class Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          as: \"select\",\n          name: \"className\",\n          value: formData.className,\n          onChange: onChange,\n          required: true,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Select a class\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this), classes.map(cls => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: cls.name,\n            children: cls.name\n          }, cls.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        controlId: \"venue\",\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Venue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          name: \"venue\",\n          value: formData.venue,\n          onChange: onChange,\n          readOnly: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        controlId: \"courseName\",\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Course Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          name: \"courseName\",\n          value: formData.courseName,\n          onChange: onChange,\n          readOnly: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary\",\n        type: \"submit\",\n        children: \"Submit Report\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n};\n_s(Reports, \"95G1DCNOlzTpojJ37VWcmHMzbJs=\");\n_c = Reports;\nexport default Reports;\nvar _c;\n$RefreshReg$(_c, \"Reports\");","map":{"version":3,"names":["React","useState","useEffect","axios","Form","Button","Card","Alert","jsxDEV","_jsxDEV","Reports","_s","formData","setFormData","facultyName","className","weekOfReporting","dateOfLecture","courseName","courseCode","lecturerName","actualStudents","totalRegistered","venue","scheduledTime","topicTaught","learningOutcomes","recommendations","classes","setClasses","error","setError","fetchClasses","res","get","process","env","REACT_APP_API_URL","headers","localStorage","getItem","data","err","console","onChange","e","name","value","target","selectedClass","find","cls","prev","onSubmit","preventDefault","post","alert","children","fileName","_jsxFileName","lineNumber","columnNumber","variant","Group","controlId","Label","Control","as","required","map","id","readOnly","type","_c","$RefreshReg$"],"sources":["C:/Users/Tech Semiconductors/luct-reporting-system/frontend/src/components/Reports.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Form, Button, Card, Alert } from 'react-bootstrap';\r\n\r\nconst Reports = () => {\r\n  const [formData, setFormData] = useState({\r\n    facultyName: '',\r\n    className: '',\r\n    weekOfReporting: '',\r\n    dateOfLecture: '',\r\n    courseName: '',\r\n    courseCode: '',\r\n    lecturerName: '',\r\n    actualStudents: '',\r\n    totalRegistered: '',\r\n    venue: '',\r\n    scheduledTime: '',\r\n    topicTaught: '',\r\n    learningOutcomes: '',\r\n    recommendations: ''\r\n  });\r\n  const [classes, setClasses] = useState([]);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchClasses();\r\n  }, []);\r\n\r\n  const fetchClasses = async () => {\r\n    try {\r\n      const res = await axios.get(`${process.env.REACT_APP_API_URL}/classes`, {\r\n        headers: { 'x-auth-token': localStorage.getItem('token') }\r\n      });\r\n      setClasses(res.data);\r\n    } catch (err) {\r\n      setError('Failed to load classes');\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const onChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData({ ...formData, [name]: value });\r\n\r\n    if (name === 'className') {\r\n      const selectedClass = classes.find(cls => cls.name === value);\r\n      if (selectedClass) {\r\n        setFormData(prev => ({\r\n          ...prev,\r\n          venue: selectedClass.venue,\r\n          courseName: selectedClass.courseName || '' // Add courseName if in schema\r\n        }));\r\n      }\r\n    }\r\n  };\r\n\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await axios.post(`${process.env.REACT_APP_API_URL}/reports`, formData, {\r\n        headers: { 'x-auth-token': localStorage.getItem('token') }\r\n      });\r\n      setError(null);\r\n      alert('Report submitted successfully');\r\n    } catch (err) {\r\n      setError('Failed to submit report');\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card className=\"p-4\">\r\n      <h2>Submit Report</h2>\r\n      {error && <Alert variant=\"danger\">{error}</Alert>}\r\n      <Form onSubmit={onSubmit}>\r\n        <Form.Group controlId=\"facultyName\" className=\"mb-3\">\r\n          <Form.Label>Faculty Name</Form.Label>\r\n          <Form.Control name=\"facultyName\" value={formData.facultyName} onChange={onChange} />\r\n        </Form.Group>\r\n        <Form.Group controlId=\"className\" className=\"mb-3\">\r\n          <Form.Label>Class Name</Form.Label>\r\n          <Form.Control as=\"select\" name=\"className\" value={formData.className} onChange={onChange} required>\r\n            <option value=\"\">Select a class</option>\r\n            {classes.map(cls => (\r\n              <option key={cls.id} value={cls.name}>{cls.name}</option>\r\n            ))}\r\n          </Form.Control>\r\n        </Form.Group>\r\n        <Form.Group controlId=\"venue\" className=\"mb-3\">\r\n          <Form.Label>Venue</Form.Label>\r\n          <Form.Control name=\"venue\" value={formData.venue} onChange={onChange} readOnly />\r\n        </Form.Group>\r\n        <Form.Group controlId=\"courseName\" className=\"mb-3\">\r\n          <Form.Label>Course Name</Form.Label>\r\n          <Form.Control name=\"courseName\" value={formData.courseName} onChange={onChange} readOnly />\r\n        </Form.Group>\r\n        {/* Add other fields similarly */}\r\n        <Button variant=\"primary\" type=\"submit\">Submit Report</Button>\r\n      </Form>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default Reports;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}