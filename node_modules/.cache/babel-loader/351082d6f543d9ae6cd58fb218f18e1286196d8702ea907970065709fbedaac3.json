{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Tech Semiconductors\\\\luct-reporting-system\\\\frontend\\\\src\\\\components\\\\Classes.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Table, Card, InputGroup, FormControl, Alert } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Classes = ({\n  role\n}) => {\n  _s();\n  const [classes, setClasses] = useState([]);\n  const [search, setSearch] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    fetchClasses();\n  }, []);\n  const fetchClasses = async (q = '') => {\n    setLoading(true);\n    setError(null);\n    try {\n      const res = await axios.get(`${process.env.REACT_APP_API_URL}/classes${q ? `?q=${q}` : ''}`, {\n        headers: {\n          'x-auth-token': localStorage.getItem('token')\n        }\n      });\n      setClasses(res.data);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error('Fetch classes error:', err);\n      setError('Failed to load classes. ' + (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.msg) || 'Check your connection or token.'));\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleSearch = e => {\n    const value = e.target.value;\n    setSearch(value);\n    fetchClasses(value);\n  };\n  return /*#__PURE__*/_jsxDEV(Card, {\n    className: \"p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [\"Classes \", role === 'lecturer' ? '(Lecturer View)' : '']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n      className: \"mb-3 search-input\",\n      children: /*#__PURE__*/_jsxDEV(FormControl, {\n        placeholder: \"Search classes...\",\n        value: search,\n        onChange: handleSearch,\n        disabled: loading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading classes...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 19\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      variant: \"danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }, this), !loading && !error && classes.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No classes found.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 54\n    }, this), !loading && !error && classes.length > 0 && /*#__PURE__*/_jsxDEV(Table, {\n      striped: true,\n      bordered: true,\n      hover: true,\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Venue\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: classes.map(cls => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: cls.id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: cls.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: cls.venue\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 17\n          }, this)]\n        }, cls.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n};\n_s(Classes, \"VjkPJr2ZpH3gWP7LNqHfAos4FBU=\");\n_c = Classes;\nexport default Classes;\nvar _c;\n$RefreshReg$(_c, \"Classes\");","map":{"version":3,"names":["React","useState","useEffect","axios","Table","Card","InputGroup","FormControl","Alert","jsxDEV","_jsxDEV","Classes","role","_s","classes","setClasses","search","setSearch","loading","setLoading","error","setError","fetchClasses","q","res","get","process","env","REACT_APP_API_URL","headers","localStorage","getItem","data","err","_err$response","_err$response$data","console","response","msg","handleSearch","e","value","target","className","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","onChange","disabled","variant","length","striped","bordered","hover","map","cls","id","name","venue","_c","$RefreshReg$"],"sources":["C:/Users/Tech Semiconductors/luct-reporting-system/frontend/src/components/Classes.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Table, Card, InputGroup, FormControl, Alert } from 'react-bootstrap';\r\n\r\nconst Classes = ({ role }) => {\r\n  const [classes, setClasses] = useState([]);\r\n  const [search, setSearch] = useState('');\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchClasses();\r\n  }, []);\r\n\r\n  const fetchClasses = async (q = '') => {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const res = await axios.get(`${process.env.REACT_APP_API_URL}/classes${q ? `?q=${q}` : ''}`, {\r\n        headers: { 'x-auth-token': localStorage.getItem('token') }\r\n      });\r\n      setClasses(res.data);\r\n    } catch (err) {\r\n      console.error('Fetch classes error:', err);\r\n      setError('Failed to load classes. ' + (err.response?.data?.msg || 'Check your connection or token.'));\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSearch = e => {\r\n    const value = e.target.value;\r\n    setSearch(value);\r\n    fetchClasses(value);\r\n  };\r\n\r\n  return (\r\n    <Card className=\"p-4\">\r\n      <h2>Classes {role === 'lecturer' ? '(Lecturer View)' : ''}</h2>\r\n      <InputGroup className=\"mb-3 search-input\">\r\n        <FormControl\r\n          placeholder=\"Search classes...\"\r\n          value={search}\r\n          onChange={handleSearch}\r\n          disabled={loading}\r\n        />\r\n      </InputGroup>\r\n      {loading && <p>Loading classes...</p>}\r\n      {error && <Alert variant=\"danger\">{error}</Alert>}\r\n      {!loading && !error && classes.length === 0 && <p>No classes found.</p>}\r\n      {!loading && !error && classes.length > 0 && (\r\n        <Table striped bordered hover>\r\n          <thead>\r\n            <tr>\r\n              <th>ID</th>\r\n              <th>Name</th>\r\n              <th>Venue</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {classes.map(cls => (\r\n              <tr key={cls.id}>\r\n                <td>{cls.id}</td>\r\n                <td>{cls.name}</td>\r\n                <td>{cls.venue}</td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </Table>\r\n      )}\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default Classes;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}